<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>FFGarouX ‚Äî Free Fire Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
margin:0;
font-family:Arial;
background:#05050d;
color:#fff;
}
.section{
max-width:900px;
margin:30px auto;
padding:25px;
background:#0e1022;
border-radius:16px;
box-shadow:0 0 25px rgba(0,255,255,.08);
}
h1,h2{text-align:center;color:#00f0ff}
input,button{
width:100%;
padding:14px;
margin-top:10px;
border-radius:10px;
border:1px solid #00f0ff;
background:#050517;
color:#fff;
}
button{
background:linear-gradient(90deg,#00f0ff,#0099ff);
color:#000;
font-weight:bold;
cursor:pointer;
}
button:hover{opacity:.85}
.hidden{display:none}
pre{
background:#000;
padding:15px;
border-radius:12px;
white-space:pre-wrap;
}
.chat{
height:200px;
overflow:auto;
background:#000;
padding:10px;
border-radius:12px;
}
</style>
</head>

<body>

<h1>FFGarouX Panel</h1>

<!-- LOGIN -->
<div class="section" id="loginBox">
<h2>–í—Ö–æ–¥</h2>
<input id="loginUser" placeholder="–õ–æ–≥–∏–Ω">
<input id="loginPass" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
<button onclick="login()">–í–æ–π—Ç–∏</button>
<p id="loginMsg"></p>
<hr>
<h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
<input id="regUser" placeholder="–õ–æ–≥–∏–Ω">
<input id="regPass" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
<button onclick="register()">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
<p id="regMsg"></p>
</div>

<!-- PANEL -->
<div class="section hidden" id="panel">
<h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="me"></span></h2>

<h3>–ü–æ–∏—Å–∫ Free Fire UID</h3>
<input id="uid" placeholder="UID">
<button onclick="lookup()">–ò—Å–∫–∞—Ç—å</button>
<pre id="uidResult"></pre>

<h3>üí¨ –û–Ω–ª–∞–π–Ω —á–∞—Ç</h3>
<div class="chat" id="chatBox"></div>
<input id="chatText" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ">
<button onclick="sendChat()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

<button onclick="logout()" style="margin-top:20px;background:#ff3355;color:#fff">
–í—ã–π—Ç–∏
</button>
</div>

<script>
const API="http://–¢–í–û–ô_IP:8000";
let token=null;
let username=null;

/* AUTH */
async function login(){
const u=loginUser.value,p=loginPass.value;
const r=await fetch(API+"/login",{method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({u,p})});
const d=await r.json();
if(d.ok){
token=d.token;
username=u;
loginBox.classList.add("hidden");
panel.classList.remove("hidden");
me.textContent=u;
loadChat();
}else loginMsg.textContent=d.error;
}

async function register(){
const u=regUser.value,p=regPass.value;
const r=await fetch(API+"/register",{method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({u,p})});
const d=await r.json();
regMsg.textContent=d.ok?"–ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω":d.error;
}

function logout(){
token=null;
panel.classList.add("hidden");
loginBox.classList.remove("hidden");
}

/* UID */
async function lookup(){
uidResult.textContent="–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶";
const r=await fetch(API+"/account/"+uid.value);
const d=await r.json();
uidResult.textContent=JSON.stringify(d,null,2);
}

/* CHAT */
async function loadChat(){
const r=await fetch(API+"/chat");
const d=await r.json();
chatBox.innerHTML=d.map(m=>`<div>[${m.user}] ${m.text}</div>`).join("");
chatBox.scrollTop=99999;
}

async function sendChat(){
await fetch(API+"/chat",{method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({user:username,text:chatText.value})});
chatText.value="";
loadChat();
}
setInterval(loadChat,3000);
</script>

</body>
</html>
